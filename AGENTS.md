# AGENTS Guidelines
## 0. 阅读须知

- 本指南适用于介绍整个项目的整体结构，子模块另有 AGENTS.md 详细介绍其功能。
- 坚持“强制优先、结果导向、可审计”，所有流程需可追溯。
- 若与本指南冲突的用户显式指令出现，必须遵循并在前置说明记录偏差原因。

## 1. 项目目录

该项目采取模块化划分用于解耦不同的模块，本项目的设计哲学是除了少数的几个核心模块例如`core`、`application-starter`、`common`等外都可替代

其可替代性的实现依赖springboot的依赖注入，即在启动时指定不同的jar包可以为项目注入不同的具体的实现类，其中核心的实现类写在了`api`模块内

- 根目录为所有模块的根目录，仅用于管理模块间的依赖关系，不应该有任何具体的代码
- `api` - 接口模块，模块内定义了不同模块相互调用的接口与基础的实体类，其他模块可依赖此模块
- `application-starter` - 启动模块，启动时指定不同的jar包为项目注入不同的具体实现类，其中相关的配置文件也通过该模块的[application.yaml](application-starter/src/main/resources/application.yaml)定义
- `common` - 工具模块，存放一些通用的工具类，例如`IdUtil`、`TimeUtil`
- `connection` - 连接模块，用于管理服务端与客户端的连接，其只处理连接与响应，不处理具体的业务逻辑
- `chat-domain` - 业务模块，聊天业务的具体实现类，用于实现具体的聊天服务
- `dao` - 数据访问模块，用于访问数据库
- `external-service` - 外部服务模块，用于调用外部服务
- `distribution` - 用于编译的辅助类，已经写好，不应该被再次修改或读取

## 2. 适用范围与优先级
- 禁用一切 CI/CD 自动化；构建、测试、发布需人工操作并停用流水线。
- 每次任务须在开始与结束整理任务日志，将最新结论沉淀至 `evidence/` 或项目日志。
- 所有沟通、代码注释、文档必须使用中文，新文件需 UTF-8（无 BOM）。
- 每次回复开头提供“前置说明”，有外部调用时需在末尾补充“工具调用简报”。
- 编码前必须完成 Sequential-Thinking 分析，执行时保持最小变更边界。