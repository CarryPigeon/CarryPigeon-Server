# API 文档索引

版本：1.0（draft）  
日期：2026-02-01  
适用范围：服务端/客户端按 `doc/PRD.md` 对齐的 API 设计文档  

说明：
- 本目录仅保留“最新 API 文档”：HTTP（请求/资源，Base=`/api`）+ WebSocket（事件流，URL=`/api/ws`）。
- 版本采用 `Accept: application/vnd.carrypigeon+json; version=1`（不使用 URL 路径版本）。
- 本仓库已明确“不向前兼容旧 TCP/Netty 对外协议”，以 `/api` 为唯一对外入口。
- 版本策略见 `00-API版本与兼容策略.md`。

目录：
- `00-API版本与兼容策略.md`：版本策略（不使用 URL 路径版本）
- `10-HTTP+WebSocket协议.md`：整体约定、鉴权、连接、事件流与恢复
- `11-HTTP端点清单.md`：资源化端点（server/auth/channel/message/plugin/file）
- `12-WebSocket事件清单.md`：WS 帧格式、订阅、事件 payload、resume
- `13-错误模型与Reason枚举.md`：统一错误结构、reason 枚举、HTTP 状态码映射
- `14-分页与游标规范.md`：cursor 规则、排序保证、增量/补拉策略
- `15-插件包扫描与Manifest规范.md`：插件包扫描、目录发现与合约校验（实现约定）
